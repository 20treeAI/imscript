<html>
	<head>
		<style>
body {max-width: 66em;}
.gallery {position:relative;width:auto;height:400px}
.gallery .index{padding:0;margin:0;width:11em;list-style:none}
.gallery .index li{margin:0;padding:0}
.gallery .index a{display:block;background-color:#eee;border:1px solid #fff;text-decoration:none;width:13em;padding:5px}
.gallery .index a span{display:block;position:absolute;left:-9999px;top:0;padding-left:2em}
.gallery .index li:first-child a span{left:12em;z-index:99}
.gallery .index a:hover{ border: 1px solid #888888;}
.gallery .index a:hover span{left:12em;z-index:100}
.gallery .index a span img{ }
.gallery .index a span { white-space:nowrap; }
.script {border:1px solid black;background-color:#fff;width:80ex;padding:1ex;}
		</style>

		<title>imscript tutorial</title>
	</head>

	<body>
		<h1>imscript tutorial</h1>


		<p>
		Imscript is a collection of simple programs for doing image
		processing in a Unix environment.
		</p>

		<h2>0. Philosophy</h2>

		<p>
		This is just vanilla unix philosophy with some specificities for
		images:
		</p>

		<ul>
			<li>each program does one thing and does it well</li>
			<li>programs work together</li>
			<li>offer mechanism, not policy</li>
			<li>images are arrays of numbers, representable by text files</li>
		</ul>

		<p>
		Notice that imscript programs will read any common image format, but
		will only write asc, pnm, png, and tiff.
		</p>

		<h2>1. Overview</h2>

		<!--
		<ol>
			<li><b>Filters:</b> read one image and write one image of the same size</li>
				<ul>
					<li><code>blur</code>: convolve an image by a shift-invariant user-specified kernel</li>
					<li><code>morsi</code>: apply a morphological operation with a user-specified element</li>
					<li><code>qeasy</code>: re-scale the dynamic range of an image</li>
					<li><code>qauto</code>: re-scale the dynamic range of an image, automatically</li>
					<li><code>palette</code>: colorize a grayscale image using a palette</li>
					<li><code>dither</code>: binarize an image by error diffusion</li>
					<li><code>iion</code>: copy named input to named output (useful to change file format)</li>
				</ul>
			</li>
		</ol>
		-->

<pre>

1.1. Filters: read one image and write one image of the same size

	- blur: convolve an image by a shift-invariant user-specified kernel
	- morsi: apply a morphological operation with a user-specified element
	- qeasy: re-scale the dynamic range of an image
	- qauto: re-scale the dynamic range of an image, automatically
	- palette: colorize a grayscale image using a palette
	- dither: binarize an image by error diffusion
	- iion: copy named input to named output (useful to change file format)

1.2. Accumulators: combine several images into one
	- plambda: apply an arbitrary pixel-wise expression, given explicitly
	- veco: generic pixel-wise expressions for gray images, gray output
	- vecov: generic pixel-wise expressions for color images, color output
	- vecoh: generic pixel-wise operations for gray images, color output
	- tbcat: concatenate two image (top-bottom)
	- lrcat: concatenate two image (left-right)

1.3. Queries: extract data from one image
	- imprintf: print a formatted string of image data
	- ghisto: common histogram
	- contihist: continuous histogram
	- viewflow:  represent a vector field using a color code
	- flowarrows: represent a vector field using arrows

1.4. Interpolators: fill-in the holes of one image
	- nnint: nearest neighbor interpolation
	- bdint: interpolation from the boundary of each hole
	- simpois: poisson, laplace and biharmonic interpolators
	- amle: absolutely minimizing lipschitz extension

1.5. Rescalers: produce an image of different size or shape
	- downsa: zoom out by combining blocks of pixels
	- upsa: zoom in by interpolation inside cells
	- ntiply: zoom in by pixel replication
	- imflip: rotate or transpose the image domain
	- homwarp: apply an arbitrary homography to the image domain

1.6. Frequecy domains:
	- fft: discrete Fourier transform (direct)
	- ifft: discrete Fourier transform (inverse)
	- dct: discrete cosine transform
	- dht: discrete Hartley transform

1.7. Point processing:
	- pview: display points or matches as an image
	- ransac: generic ransac implementation
	- srmatch: multi-scale sift matching for registration
	- plyflatten: project 3D points into a 2.5D representation
	- colormesh: build 3D mesh from calibrated 2.5D representation
	- ijmesh: build 3D mesh from non-calibrated 2.5D representation

1.8. Multi-program suites:
	- siftu: operations for sift keypoints
	- tiffu: operations for tiff files
	- fontu: operations for bitmapped fonts

1.9. Miscellaneous:
	- synflow: generate a synthetic optical flow field
	- ccproc: connected component filtering
	- ihough2: generic hough transform (for straight lines)
	- tdip: cylindrical hough transform (for sinusoids)
	- rpc_pm: patch match in the altitude domain
	- distance: distance function to a given set of points
	- sdistance: signed distance to the boundaries of a binary image
	- ppsmooth: periodic + smooth image decomposition
	- pmba2: poor man bundle adjustment
	- tcregistration: register two images by translation

1.10. Interactive programs:
	- fpan: display an image with panning, zooming, and contrast changes
	- fpantiff: like fpan, but understands image pyramids
	- rpcflip: display several calibrated satellite images
	- powerkill: fourier-domain band-pas filter editor
	- epiview: visualize the epipolar geometry between two images
	- viho: interactive homographic visualization
	- dosdo: look at an image and its fourier transform
	- icrop: interactive crop
	- vnav: visualize cylindrical images
</pre>


<h2>2. Examples</h2>

<h3>2.1. Filters</h3>

<p>
Gaussian <b>blur</b> of different sizes

<pre class="script">
blur gaussian 1 A.png A_g1.png
blur gaussian 3 A.png A_g3.png
blur gaussian 8 A.png A_g8.png
</pre>

<div class="gallery" style="height:321">
	<ul class="index">
		<li><a href="#">input image    <span><img src="f/A.png" /></span></a></li>
		<li><a href="#">blur gaussian 1<span><img src="f/A_g1.png" /></span></a></li>
		<li><a href="#">blur gaussian 3<span><img src="f/A_g3.png" /></span></a></li>
		<li><a href="#">blur gaussian 8<span><img src="f/A_g8.png" /></span></a></li>
	</ul>
</div>
</p>

<p>
Gaussian blur with different boundary conditions:
<pre class="script">
blur gaussian 5 -p A.png A_gp.png    # periodic boundary
blur gaussian 5 -z A.png A_gz.png    # zero boundary
blur gaussian 5 -s A.png A_gs.png    # symmetric boundary
</pre>
<div class="gallery" style="height:321px">
	<ul class="index">
		<li><a href="#">input image       <span><img src="f/A.png" /></span></a></li>
		<li><a href="#">blur gaussian 5 -p<span><img src="f/A_gp.png" /></span></a></li>
		<li><a href="#">blur gaussian 5 -z<span><img src="f/A_gz.png" /></span></a></li>
		<li><a href="#">blur gaussian 5 -s<span><img src="f/A_gs.png" /></span></a></li>
	</ul>
</div>
</p>


<p>
Blur with different kernels of the "same" width:
<pre class="script">
blur gaussian 5 A.png A_g.png
blur laplace  5 A.png A_l.png
blur disk     5 A.png A_d.png
blur square  11 A.png A_s.png
blur cauchy   2 A.png A_c.png
blur inverse  1 -p A.png | qauto -i -p 1 - A_i.png
</pre>
<div class="gallery" style="height:321px">
	<ul class="index">
		<li><a href="#">input image    <span><img src="f/A.png" /></span></a></li>
		<li><a href="#">blur gaussian 5<span><img src="f/A_g.png" /></span></a></li>
		<li><a href="#">blur laplace 5 <span><img src="f/A_l.png" /></span></a></li>
		<li><a href="#">blur disk 5    <span><img src="f/A_d.png" /></span></a></li>
		<li><a href="#">blur square 11 <span><img src="f/A_s.png" /></span></a></li>
		<li><a href="#">blur cauchy 2  <span><img src="f/A_c.png" /></span></a></li>
		<li><a href="#">blur inverse 1 <span><img src="f/A_i.png" /></span></a></li>
	</ul>
</div>
</p>

<p>
<b>morsi cross:</b> morphological operations with a cross structuring element:
<pre class="script">
morsi cross erosion       A.png A_x_erosion.png
morsi cross dilation      A.png A_x_dilation.png
morsi cross median        A.png A_x_median.png
morsi cross opening       A.png A_x_opening.png
morsi cross closing       A.png A_x_closing.png
morsi cross gradient      A.png A_x_gradient.png
morsi cross igradient     A.png A_x_igradient.png
morsi cross egradient     A.png A_x_egradient.png
morsi cross laplacian     A.png | qeasy 40 -40 - A_x_laplacian.png
morsi cross enhance       A.png A_x_enhance.png
morsi cross tophat        A.png | qeasy  0 60 - A_x_tophat.png
morsi cross bothat        A.png | qeasy  0 60 - A_x_bothat.png
morsi cross oscillation   A.png | qeasy  0 60 - A_x_oscillation.png
</pre>
<div class="gallery" style="height:521px">
	<ul class="index">
		<li><a href="#">input image    <span><img src="f/A.png" /></span></a></li>
		<li><a href="#">morsi cross erosion<span><img src="f/A_erosion.png" /></span></a></li>
		<li><a href="#">morsi cross dilation<span><img src="f/A_dilation.png" /></span></a></li>
		<li><a href="#">morsi cross median<span><img src="f/A_median.png" /></span></a></li>
		<li><a href="#">morsi cross opening<span><img src="f/A_opening.png" /></span></a></li>
		<li><a href="#">morsi cross closing<span><img src="f/A_closing.png" /></span></a></li>
		<li><a href="#">morsi cross gradient<span><img src="f/A_gradient.png" /></span></a></li>
		<li><a href="#">morsi cross igradient<span><img src="f/A_igradient.png" /></span></a></li>
		<li><a href="#">morsi cross egradient<span><img src="f/A_egradient.png" /></span></a></li>
		<li><a href="#">morsi cross laplacian<span><img src="f/A_laplacian.png" /></span></a></li>
		<li><a href="#">morsi cross enhance<span><img src="f/A_enhance.png" /></span></a></li>
		<li><a href="#">morsi cross tophat<span><img src="f/A_tophat.png" /></span></a></li>
		<li><a href="#">morsi cross bothat<span><img src="f/A_bothat.png" /></span></a></li>
		<li><a href="#">morsi cross oscillation<span><img src="f/A_oscillation.png" /></span></a></li>
	</ul>
</div>
</p>

<p>
<b>morsi disk5:</b> morphological operations with disk structuring element of radius 5 pixels:
<pre class="script">
morsi disk5 erosion       A.png A_d5_erosion.png
morsi disk5 dilation      A.png A_d5_dilation.png
morsi disk5 median        A.png A_d5_median.png
morsi disk5 opening       A.png A_d5_opening.png
morsi disk5 closing       A.png A_d5_closing.png
morsi disk5 gradient      A.png A_d5_gradient.png
morsi disk5 igradient     A.png A_d5_igradient.png
morsi disk5 egradient     A.png A_d5_egradient.png
morsi disk5 laplacian     A.png | qeasy 90 -90 - A_d5_laplacian.png
morsi disk5 enhance       A.png A_d5_enhance.png
morsi disk5 tophat        A.png | qeasy 0 100 - A_d5_tophat.png
morsi disk5 bothat        A.png | qeasy 0 100 - A_d5_bothat.png
morsi disk5 oscillation   A.png | qeasy 0 100 - A_d5_oscillation.png
</pre>
<div class="gallery" style="height:521px">
	<ul class="index">
		<li><a href="#">input image    <span><img src="f/A.png" /></span></a></li>
		<li><a href="#">morsi disk5 erosion<span><img src="f/A_d5_erosion.png" /></span></a></li>
		<li><a href="#">morsi disk5 dilation<span><img src="f/A_d5_dilation.png" /></span></a></li>
		<li><a href="#">morsi disk5 median<span><img src="f/A_d5_median.png" /></span></a></li>
		<li><a href="#">morsi disk5 opening<span><img src="f/A_d5_opening.png" /></span></a></li>
		<li><a href="#">morsi disk5 closing<span><img src="f/A_d5_closing.png" /></span></a></li>
		<li><a href="#">morsi disk5 gradient<span><img src="f/A_d5_gradient.png" /></span></a></li>
		<li><a href="#">morsi disk5 igradient<span><img src="f/A_d5_igradient.png" /></span></a></li>
		<li><a href="#">morsi disk5 egradient<span><img src="f/A_d5_egradient.png" /></span></a></li>
		<li><a href="#">morsi disk5 laplacian<span><img src="f/A_d5_laplacian.png" /></span></a></li>
		<li><a href="#">morsi disk5 enhance<span><img src="f/A_d5_enhance.png" /></span></a></li>
		<li><a href="#">morsi disk5 tophat<span><img src="f/A_d5_tophat.png" /></span></a></li>
		<li><a href="#">morsi disk5 bothat<span><img src="f/A_d5_bothat.png" /></span></a></li>
		<li><a href="#">morsi disk5 oscillation<span><img src="f/A_d5_oscillation.png" /></span></a></li>
	</ul>
</div>
</p>

<!--

blur -n gaussian 2 lenak.png lenak_gn.png
blur -z gaussian 2 lenak.png lenak_gz.png
blur -s gaussian 2 lenak.png lenak_gs.png


Blur with different kernels of the "same" width:

blur gaussian 3 lenak.png lenak_g3.png
blur laplace  3 lenak.png lenak_l3.png
blur disk     3 lenak.png lenak_d3.png
blur cauchy   3 lenak.png lenak_i3.png
blur inverse  3 lenak.png lenak_i3.png


Morphological operations with a cross structuring element:

morsi cross erosion  lenak.png lenak_erosion.png
morsi cross dilation lenak.png lenak_dilation.png
...


Morphological operation with 
-->

<p>end</p>

	</body>
</html>

<!-- vim: ts=2 sw=2 spell spelllang=en
-->
