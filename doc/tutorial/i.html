<html>
	<head>
		<style>
body {max-width: 66em;}
.gallery {position:relative;width:auto;height:400px}
.gallery .index{padding:0;margin:0;width:11em;list-style:none}
.gallery .index li{margin:0;padding:0} 
.gallery .index a{display:block;background-color:#eee;border:1px solid #fff;text-decoration:none;width:13em;padding:5px}
.gallery .index a span{display:block;position:absolute;left:-9999px;top:0;padding-left:2em}
.gallery .index li:first-child a span{left:12em;z-index:99}
.gallery .index a:hover{ border: 1px solid #888888;}
.gallery .index a:hover span{left:12em;z-index:100}
.gallery .index a span img{ /*width: 80%;*/ }
.gallery .index a span { white-space:nowrap; }
		</style>

		<title>imscript tutorial</title>
	</head>

	<body>
		<h1>imscript tutorial</h1>


		<p>
		Imscript is a collection of simple programs for doing image
		processing in a Unix environment.
		</p>

		<h2>0. Philosophy</h2>

		<p>
		This is just vanilla unix philosophy with some specificities for
		images:
		</p>

		<ul>
			<li>each program does one thing and does it well</li>
			<li>programs work together</li>
			<li>offer mechanism, not policy</li>
			<li>images are arrays of numbers, representable by text files</li>
		</ul>

		<p>
		Notice that imscript programs will read any common image format, but
		will only write asc, pnm, png, and tiff.
		</p>

		<h2>1. Overview</h2>

		<!--
		<ol>
			<li><b>Filters:</b> read one image and write one image of the same size</li>
				<ul>
					<li><code>blur</code>: convolve an image by a shift-invariant user-specified kernel</li>
					<li><code>morsi</code>: apply a morphological operation with a user-specified element</li>
					<li><code>qeasy</code>: re-scale the dynamic range of an image</li>
					<li><code>qauto</code>: re-scale the dynamic range of an image, automatically</li>
					<li><code>palette</code>: colorize a grayscale image using a palette</li>
					<li><code>dither</code>: binarize an image by error diffusion</li>
					<li><code>iion</code>: copy named input to named output (useful to change file format)</li>
				</ul>
			</li>
		</ol>
		-->

<pre>

1.1. Filters: read one image and write one image of the same size

	- blur: convolve an image by a shift-invariant user-specified kernel
	- morsi: apply a morphological operation with a user-specified element
	- qeasy: re-scale the dynamic range of an image
	- qauto: re-scale the dynamic range of an image, automatically
	- palette: colorize a grayscale image using a palette
	- dither: binarize an image by error diffusion
	- iion: copy named input to named output (useful to change file format)

1.2. Accumulators: combine several images into one
	- plambda: apply an arbitrary pixel-wise expression, given explicitly
	- veco: generic pixel-wise expressions for gray images, gray output
	- vecov: generic pixel-wise expressions for color images, color output
	- vecoh: generic pixel-wise operations for gray images, color output
	- tbcat: concatenate two image (top-bottom)
	- lrcat: concatenate two image (left-right)

1.3. Queries: extract data from one image
	- imprintf: print a formatted string of image data
	- ghisto: common histogram
	- contihist: continuous histogram
	- viewflow:  represent a vector field using a color code
	- flowarrows: represent a vector field using arrows

1.4. Interpolators: fill-in the holes of one image
	- nnint: nearest neighbor interpolation
	- bdint: interpolation from the boundary of each hole
	- simpois: poisson, laplace and biharmonic interpolators
	- amle: absolutely minimizing lipschitz extension

1.5. Rescalers: produce an image of different size or shape
	- downsa: zoom out by combining blocks of pixels
	- upsa: zoom in by interpolation inside cells
	- ntiply: zoom in by pixel replication
	- imflip: rotate or transpose the image domain
	- homwarp: apply an arbitrary homography to the image domain

1.6. Frequecy domains:
	- fft: discrete Fourier transform (direct)
	- ifft: discrete Fourier transform (inverse)
	- dct: discrete cosine transform
	- dht: discrete Hartley transform

1.7. Point processing:
	- pview: display points or matches as an image
	- ransac: generic ransac implementation
	- srmatch: multi-scale sift matching for registration
	- plyflatten: project 3D points into a 2.5D representation
	- colormesh: build 3D mesh from calibrated 2.5D representation
	- ijmesh: build 3D mesh from non-calibrated 2.5D representation

1.8. Multi-program suites:
	- siftu: operations for sift keypoints
	- tiffu: operations for tiff files
	- fontu: operations for bitmapped fonts

1.9. Miscellaneous:
	- synflow: generate a synthetic optical flow field
	- ccproc: connected component filtering
	- ihough2: generic hough transform (for straight lines)
	- tdip: cylindrical hough transform (for sinusoids)
	- rpc_pm: patch match in the altitude domain
	- distance: distance function to a given set of points
	- sdistance: signed distance to the boundaries of a binary image
	- ppsmooth: periodic + smooth image decomposition
	- pmba2: poor man bundle adjustment
	- tcregistration: register two images by translation

1.10. Interactive programs:
	- fpan: display an image with panning, zooming, and contrast changes
	- fpantiff: like fpan, but understands image pyramids
	- rpcflip: display several calibrated satellite images
	- powerkill: fourier-domain band-pas filter editor
	- epiview: visualize the epipolar geometry between two images
	- viho: interactive homographic visualization
	- dosdo: look at an image and its fourier transform
	- icrop: interactive crop
	- vnav: visualize cylindrical images
</pre>


<h2>2. Examples</h2>

<h3>2.1. Filters</h3>

<p>
Gaussian blur of different sizes

<!--
SCRIPT: blur gaussian 1 lenak.png lenak_g1.png
SCRIPT: blur gaussian 3 lenak.png lenak_g3.png
SCRIPT: blur gaussian 8 lenak.png lenak_g8.png
SCRIPT: blur gaussian -n 5 lenak.png lenak_gn.png
SCRIPT: blur gaussian -z 5 lenak.png lenak_gz.png
SCRIPT: blur gaussian -s 5 lenak.png lenak_gs.png
-->

<div class="gallery" style="height:256px">
	<ul class="index">
		<li><a href="#">input image    <span><img src="f/lenak.png" /></span></a></li>
		<li><a href="#">blur gaussian 1<span><img src="f/lenak_g1.png" /></span></a></li>
		<li><a href="#">blur gaussian 3<span><img src="f/lenak_g3.png" /></span></a></li>
		<li><a href="#">blur gaussian 8<span><img src="f/lenak_g8.png" /></span></a></li>
	</ul>
</div>
</p>

<p>
Gaussian blur with different boundary conditions:
<div class="gallery" style="height:256px">
	<ul class="index">
		<li><a href="#">input image       <span><img src="f/lenak.png" /></span></a></li>
		<li><a href="#">blur gaussian 5 -n<span><img src="f/lenak_gn.png" /></span></a></li>
		<li><a href="#">blur gaussian 5 -z<span><img src="f/lenak_gz.png" /></span></a></li>
		<li><a href="#">blur gaussian 5 -s<span><img src="f/lenak_gs.png" /></span></a></li>
	</ul>
</div>
</p>

<!--
SCRIPT: blur gaussian 5 lenak.png lenak_g.png
SCRIPT: blur laplace  5 lenak.png lenak_l.png
SCRIPT: blur disk     5 lenak.png lenak_d.png
SCRIPT: blur square  11 lenak.png lenak_s.png
SCRIPT: blur cauchy   2 lenak.png lenak_c.png
SCRIPT: blur inverse  1 lenak.png | qeasy 100 160 - lenak_i.png
-->

<p>
Blur with different kernels of the "same" width:
<div class="gallery" style="height:256px">
	<ul class="index">
		<li><a href="#">input image    <span><img src="f/lenak.png" /></span></a></li>
		<li><a href="#">blur gaussian 5<span><img src="f/lenak_g.png" /></span></a></li>
		<li><a href="#">blur laplace 5 <span><img src="f/lenak_l.png" /></span></a></li>
		<li><a href="#">blur disk 5    <span><img src="f/lenak_d.png" /></span></a></li>
		<li><a href="#">blur square 11 <span><img src="f/lenak_s.png" /></span></a></li>
		<li><a href="#">blur cauchy 2  <span><img src="f/lenak_c.png" /></span></a></li>
		<li><a href="#">blur inverse 1 <span><img src="f/lenak_i.png" /></span></a></li>
	</ul>
</div>
</p>

<!--

blur -n gaussian 2 lenak.png lenak_gn.png
blur -z gaussian 2 lenak.png lenak_gz.png
blur -s gaussian 2 lenak.png lenak_gs.png


Blur with different kernels of the "same" width:

blur gaussian 3 lenak.png lenak_g3.png
blur laplace  3 lenak.png lenak_l3.png
blur disk     3 lenak.png lenak_d3.png
blur cauchy   3 lenak.png lenak_i3.png
blur inverse  3 lenak.png lenak_i3.png


Morphological operations with a cross structuring element:

morsi cross erosion  lenak.png lenak_erosion.png
morsi cross dilation lenak.png lenak_dilation.png
...


Morphological operation with 
-->


	</body>
</html>

<!-- vim: ts=2 sw=2 spell spelllang=en
-->
